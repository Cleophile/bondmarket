# 国债案例分析
## 简介
国债是是中央政府向投资者出具的、承诺在一定时期支付利息和到期偿还本金的债权债务凭证。地方债则是地方政府的债权凭证。它们都是具有巨大发行规模和可靠信用保障的金融产品，是金融市场上最重要的产品之一。  
这个案例通过对1544条国债和地方债数据作为研究出发点。  

## 分析要点
国债是一种金融产品。和所有其他的金融产品一样，在分析时我们着重分析风险和收益率。如果我们度量出了风险和收益率的大小和来源，就能够在一定程度上预测未来的风险和收益率。了解了风险和收益率后，我们能够摒弃收益率过低、风险过大的产品，并通过适当的资产组合来选择合适的风险和收益率水平。因此，在了解历年国债的数据之后，我们可以分析国债收益率的来源和风险的关系，为投资组合的设计提供帮助。  

### 收益率
#### >收益率衡量
收益率最显而易见的度量方法就是看债权的利率。然而国债种类的多样性决定了这样简单地看待是不准确的。例如，贴现形式发售的国债的利率是0，认购者通过 __【折价】__ 购买获得国债收益率。  
因此，我们选择另一种方式—— __折现率__ 度量国债的收益率。  
折现率指：使得未来现金流现值正好等于购入债券的价格的折现率。  

#### >收益率来源
名义收益率主要随着金融市场的时间价值和通货膨胀的大小变动。  
名义收益率=金融市场的时间价值+通货膨胀率  
金融市场的时间价值变化不大，视为随机扰动  
通货膨胀率每年都在变化，理论上，投资者面对投资机会时，应该尝试预测未来的通货膨胀率。然而由于通货膨胀率容易受到央行等的直接人为干预，具有很高的不确定性，从而仅仅是 *t期* 的通货膨胀率可能不能很好地说明问题，至少应当附加考虑 *t-1期* 的通货膨胀。

### 风险
#### >风险来源
风险指不确定性。不确定性最主要的来源是：中国政府的信用。一般而言国家政府的信用比较高，可以忽略违约风险，然而世界上同样有很多经济陷入困境的国家的国债信用评级为“垃圾级”。我们可以选择中国的标准普尔信用评级作为参考。又由于中国经济形势的稳定性，我们也可以视其为随机的可以忽略的扰动。
地方政府的违约风险略高于中央政府，因此我们选择一个Dummy Variable用于衡量财政部和地方政府的债券利率的差异。1代表财政部，0代表地方政府。
同时时间也是风险的产生因素之一。例如，有两个投资产品，现值和价格相同，然而一个投资产品的收益方式为第一年30元，第二年70元（均为现值），一个投资产品的收益方式为第一年70元，第二年30元，显然第二个投资产品的风险较小，因为第一年即收回了大部分投资，如果两个投资产品都在第二年破产，第二种产品的损失显然小很多。

#### >时间因素造成的风险的衡量—— _久期_
我们用久期来衡量债券持有至到期的时间带来的不确定性。在债券市场有效、债券真实价值发掘完全的条件下，假设债券当期的收益率即为市场利率。利用当期收益率可以计算出麦考来久期。通过 __Votality=Duration/(1+yield)__ 可以计算出未来市场利率的变动对债权现值的影响。久期和债券的到期日有关系，也和未来现金流的实现方式有关。

### 随机变量
许多变量由于债券市场的有效性而成为了随机变量。

## 回归方程
根据上面的分析，我们的回归方程为：
Yield = a + b*Inflation + c*Duration + d*Institution

## 数据预处理
1. 根据名称获得债权发行的年份
2. 删去无关紧要的票面价值，我国的债权票面价值为100元
3. 发现债权有折价发行，折价发行的依据使得现金流为0的折现率计算收益率
4. 以债券当期收益率为市场利率（假设国债和地方债市场足够大，价值发掘足够充分），计算久期

## 直观感受
1. 通货膨胀和债券利率是否有关系？
人们会尝试预期通货膨胀率，理论上应该有明显的相关性
![Plotting Inflation](https://github.com/Cleophile/bondmarket/blob/master/images/plot_inflation.png)

2. 债券利率和是否是财政部发行的有无关系？
![Data of Institution](https://github.com/Cleophile/bondmarket/blob/master/images/data_interest_rate.png)

3. 久期和债券利率是否有关系？
![Plotting Duration](https://github.com/Cleophile/bondmarket/blob/master/images/duration.png)

## 数据回归


